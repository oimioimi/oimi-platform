<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…Ù†ØµØ© OIMI - Ø·Ù„Ø¨ ØªÙ‚ÙŠÙŠÙ…</title>
<link rel="icon" type="image/png" href="https://i.postimg.cc/cJRw69tq/Favicon-for-OIMI.png">
<style>
    :root { --p: #00732f; --lg: #e8f5e9; }
    body { background: #fff; margin: 0; font-family: 'Segoe UI', Tahoma, sans-serif; padding: 10px; text-align: right; }
    .container { max-width: 600px; margin: auto; display: flex; flex-direction: column; gap: 15px; }
    
    /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø´Ø¹Ø§Ø± OiMi.ae Ù…Ø·Ø§Ø¨Ù‚ Ù„Ù„ØµÙˆØ±Ø© */
    .oimi-logo { font-size: 45px; font-weight: bold; color: #000; direction: ltr; display: inline-flex; align-items: baseline; }
    .oimi-i { position: relative; display: inline-block; }
    .oimi-i::after { content: ''; position: absolute; top: 12%; left: 50%; transform: translateX(-50%); width: 6px; height: 6px; background-color: #ff0000; border-radius: 1px; }
    
    .header-section { text-align: center; margin-bottom: 10px; }
    .sub-title { font-size: 16px; color: #444; margin-top: 5px; }

    /* ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø« (Ù…Ø·Ø§Ø¨Ù‚ Ù„Ù„ØµÙˆØ±Ø© 2) */
    .steps-box { background: #f0f7f4; padding: 20px; border-radius: 15px; border: 1.5px solid #a3cfbb; margin-bottom: 10px; color: #2e7d32; }
    .steps-header { font-weight: bold; font-size: 18px; display: flex; align-items: center; justify-content: flex-start; gap: 8px; margin-bottom: 10px; }
    .steps-header span { color: #198754; }
    .step-line { font-size: 15px; line-height: 1.8; margin-bottom: 5px; }
    
    .help-link-wrapper { text-align: center; border-top: 1px dashed #ccc; margin-top: 10px; padding-top: 10px; }
    .help-link { color: #00732f; text-decoration: none; font-weight: bold; font-size: 15px; }

    /* Ø­Ù‚Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ (ØµÙˆØ±Ø© 1) */
    .alert-box { background: #f8fff9; padding: 12px; border-radius: 10px; border: 1px solid #d1e7dd; text-align: center; font-weight: bold; color: #155724; font-size: 14px; margin-bottom: 15px; }

    label { display: block; margin: 15px 0 5px; font-weight: bold; font-size: 15px; color: #000; }
    input, select { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #75aadb; box-sizing: border-box; font-size: 15px; background: #f8f9fa; }
    .num-input { direction: ltr; text-align: left; }
    
    .btn { width: 100%; background: linear-gradient(135deg, #00732f, #00a342); color: white; padding: 16px; border: none; border-radius: 12px; font-size: 18px; font-weight: bold; cursor: pointer; margin-top: 20px; }

    /* Ù‚Ø³Ù… Ø¹Ù† Ø§Ù„Ù…Ù†ØµØ© (Ù…Ø·Ø§Ø¨Ù‚ Ù„Ù„ØµÙˆØ±Ø© 3) */
    .about-section { text-align: center; padding: 20px 10px; border-top: 1px solid #eee; margin-top: 20px; }
    .about-section h2 { color: #004d26; font-size: 24px; margin-bottom: 15px; }
    .about-text { font-size: 15px; line-height: 1.8; color: #333; text-align: justify; max-width: 95%; margin: auto; }
    .toggle-details { color: #888; text-decoration: underline; font-size: 13px; cursor: pointer; display: block; margin-top: 10px; }

    /* Ù…ÙˆØ¯Ø§Ù„ ÙˆØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© */
    .track img { width: 260px; height: 160px; object-fit: cover; margin: 0 15px; border-radius: 12px; cursor: zoom-in; }
    #modalOverlay { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:10000; align-items:center; justify-content:center; }
    #modalOverlay img { max-width: 90%; max-height: 80%; border: 3px solid #fff; border-radius: 10px; }
</style>
</head>
<body>

<div id="modalOverlay" onclick="this.style.display='none'"><img id="modalImg"></div>

<div class="container">
    <div class="header-section">
        <div class="oimi-logo">
            OiM<span class="oimi-i">i</span>.ae <span style="font-family: 'Segoe UI'; margin-left: 10px; direction: rtl;">Ù…Ù†ØµØ©</span>
        </div>
        <div class="sub-title">Ø·Ù„Ø¨ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ù‡Ù†ÙŠ ÙˆØ¹Ù…Ù„ Ø§Ù„Ø³ÙŠØ± Ø§Ù„Ø°Ø§ØªÙŠØ© (ATS)</div>
    </div>

    <form id="oimi-form">
        <div class="steps-box">
            <div class="steps-header">
                <span>âœ…</span> Ø®Ø·ÙˆØ§Øª Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨:
            </div>
            <div class="step-line">Ù¡. ØªØ­ÙˆÙŠÙ„ Ø±Ø³ÙˆÙ… Ø§Ù„Ø®Ø¯Ù…Ø© (50,000 Ø¬Ù†ÙŠÙ‡) Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø®Ø±Ø·ÙˆÙ… (Ø¨Ù†ÙƒÙƒ) :4623370 (Ø¨Ø§Ø³Ù… Ø§Ù„Ø£Ø³ØªØ§Ø° / Ø¹Ù…Ø± Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…).</div>
            <div class="step-line">Ù¢. Ø£ÙƒÙ…Ù„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¬Ù…ÙŠØ¹Ù‡Ø§ (Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ø­ØµØ±Ø§Ù‹).</div>
            <div class="step-line">Ù£. Ø§Ø¶ØºØ· "Ø¥Ø±Ø³Ø§Ù„" Ù„Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙˆØ§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ù‚Ù… ØªØ³Ø¬ÙŠÙ„Ùƒ.</div>
            
            <div class="help-link-wrapper">
                <a href="https://wa.me/249900065080" class="help-link">ğŸ’¡ Ø¥Ø°Ø§ ÙƒÙ†Øª ØªÙˆØ§Ø¬Ù‡ ØµØ¹ÙˆØ¨Ø© ÙÙŠ Ø³Ø¯Ø§Ø¯ Ø§Ù„Ø±Ø³ÙˆÙ…ØŸ Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§.</a>
            </div>
        </div>

        <div class="alert-box">ÙŠÙØ³Ù…Ø­ Ø¨Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· Ù„ÙƒÙ„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ.</div>

        <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ (Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙÙ‚Ø·) *</label>
        <input type="text" id="u_name_ar" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ" required oninput="this.value=this.value.replace(/[a-zA-Z]/g,'')">
        
        <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ (Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙÙ‚Ø·) *</label>
        <input type="text" id="u_name_en" class="num-input" placeholder="Full Name in English" required oninput="this.value=this.value.replace(/[\u0600-\u06FF]/g,'')">

        <label>Ø¨Ù„Ø¯ Ø§Ù„Ø§Ù‚Ø§Ù…Ø© *</label>
        <select id="u_country" required onchange="handleCountryChange(this)">
            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆÙ„Ø©...</option>
        </select>
        
        <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ø£Ø±Ù‚Ø§Ù… Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙÙ‚Ø·) *</label>
        <input type="tel" id="u_phone" class="num-input" placeholder="00xxxx" disabled required>
        
        <label>Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ (Ø£Ø±Ù‚Ø§Ù… Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙÙ‚Ø·) *</label>
        <input type="tel" id="u_whatsapp" class="num-input" placeholder="00xxxx" disabled required>
        
        <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠ *</label>
        <input type="email" id="u_email" placeholder="mail@example.com" required>

        <label>Ø£Ø±ÙÙ‚ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© (PDF Ø£Ùˆ ØµÙˆØ±Ø©) *</label>
        <input type="file" id="cv_file" accept=".pdf,image/*" required>
        
        <label>Ø£Ø±ÙÙ‚ ØµÙˆØ±Ø© Ø¥ÙŠØµØ§Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ *</label>
        <input type="file" id="receipt_file" accept="image/*" required>

        <button type="submit" class="btn" id="submitBtn">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
    </form>

    <div class="about-section">
        <h2>Ø¹Ù† Ø§Ù„Ù…Ù†ØµØ©</h2>
        <p class="about-text">
            <strong style="direction: ltr; display: inline-flex; align-items: baseline; font-size: 16px;">
                OiM<span class="oimi-i" style="&::after{width:4px; height:4px;}">i</span>.ae
            </strong> 
            Ù‡ÙŠ Ù…Ù†ØµØ© Ø±Ù‚Ù…ÙŠØ© Ø±Ø§Ø¦Ø¯Ø© Ù…ØªØ®ØµØµØ© ÙÙŠ ØªÙ‚Ø¯ÙŠÙ… Ø­Ù„ÙˆÙ„ Ù…Ù‡Ù†ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ù„Ø¨Ø§Ø­Ø«ÙŠÙ† Ø¹Ù† Ø¹Ù…Ù„ ÙÙŠ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø´Ø±Ù‚ Ø§Ù„Ø£ÙˆØ³Ø· ÙˆØ´Ù…Ø§Ù„ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ØŒ ØªÙ‡Ø¯Ù Ø¥Ù„Ù‰ Ø¬Ø³Ø± Ø§Ù„ÙØ¬ÙˆØ© Ø¨ÙŠÙ† Ø§Ù„ÙƒÙØ§Ø¡Ø§Øª Ø§Ù„Ù…Ù‡Ù†ÙŠØ© ÙˆÙ…ØªØ·Ù„Ø¨Ø§Øª Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø­Ø¯ÙŠØ«.
        </p>
        <span class="toggle-details" onclick="alert('ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ© Ù‚Ø±ÙŠØ¨Ø§Ù‹...')">Ø§Ø¶ØºØ· Ù„Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© â–¾</span>
    </div>
</div>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbw0jhOgO2iYIss-Y4_B_hk8WKtFzyUH7FlgLwJijo6iCJ0lchZ_A9dMQAoXxQJo7IAT/exec";

const countryCodes = { "Ø§Ù„Ø³ÙˆØ¯Ø§Ù†": "00249", "Ù…ØµØ±": "0020", "Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©": "00966", "Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª": "00971", "Ù‚Ø·Ø±": "00974", "Ø¹Ù…Ø§Ù†": "00968", "Ø§Ù„ÙƒÙˆÙŠØª": "00965", "Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†": "00973" };
const cSel = document.getElementById('u_country');
Object.keys(countryCodes).sort((a,b)=>a.localeCompare(b,'ar')).forEach(c=>{ const o=document.createElement('option'); o.value=c; o.textContent=c; cSel.appendChild(o); });

function handleCountryChange(el){ 
    const p=document.getElementById('u_phone'), w=document.getElementById('u_whatsapp'); 
    if(el.value){ p.disabled=false; w.disabled=false; p.value=countryCodes[el.value]; w.value=countryCodes[el.value]; } 
}

const form = document.getElementById('oimi-form');
form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const btn = document.getElementById('submitBtn');
    btn.disabled = true; btn.innerHTML = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸ ÙˆØ§Ù„ØªØ­Ù‚Ù‚...";
    
    const toBase64 = file => new Promise((res, rej) => {
        const r = new FileReader(); r.onload = () => res(r.result.split(',')[1]);
        r.onerror = rej; r.readAsDataURL(file);
    });

    try {
        const payload = {
            "Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ": document.getElementById('u_name_ar').value,
            "Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠ": document.getElementById('u_name_en').value,
            "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ": document.getElementById('u_email').value.toLowerCase(),
            "Ø¨Ù„Ø¯ Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©": document.getElementById('u_country').value,
            "Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ": document.getElementById('u_phone').value,
            "Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³": document.getElementById('u_whatsapp').value,
            "Ø§Ù„ØªØ®ØµØµ Ø§Ù„Ù…Ù‡Ù†ÙŠ": "Ø·Ù„Ø¨ ØªÙ‚ÙŠÙŠÙ…",
            "cv_data": await toBase64(document.getElementById('cv_file').files[0]),
            "receipt_data": await toBase64(document.getElementById('receipt_file').files[0])
        };

        const resp = await fetch(scriptURL, { method: 'POST', body: JSON.stringify(payload) });
        const res = await resp.json();

        if (res.status === "exists") {
            alert("âš ï¸ Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ù…Ø³Ø¬Ù„ Ù…Ø³Ø¨Ù‚Ø§Ù‹.");
            btn.disabled = false; btn.innerHTML = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨";
        } else {
            alert("ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­ âœ… Ø±Ù‚Ù…Ùƒ: " + res.uniqueId);
            location.reload();
        }
    } catch (e) {
        alert("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„.");
        btn.disabled = false; btn.innerHTML = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨";
    }
});
</script>
</body>
</html>
