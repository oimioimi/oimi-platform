<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…Ù†ØµØ© OIMI - Ø·Ù„Ø¨ ØªÙ‚ÙŠÙŠÙ…</title>
<link rel="icon" type="image/png" href="https://i.postimg.cc/cJRw69tq/Favicon-for-OIMI.png">
<style>
:root { --p: #00732f; --lg: #e8f5e9; }
body { background: #fff; margin: 0; font-family: 'Segoe UI', sans-serif; padding: 5px; text-align: right; overflow-x: hidden; }
.container { max-width: 600px; margin: auto; display: flex; flex-direction: column; gap: 2px; }
.card { background: #fff; padding: 18px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border: 1px solid #eee; }

/* Ø´Ø¹Ø§Ø± OiMi Ø¨Ù†Ù‚Ø·ØªÙŠÙ† Ø­Ù…Ø±Ø§ÙˆÙŠÙ† */
.oimi-style { display: inline-flex; align-items: baseline; direction: ltr; font-weight: bold; color: #000; }
.oimi-i { display: inline-block; line-height: 1; background: linear-gradient(to bottom, #ff0000 20%, #000000 20%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

.main-title { text-align: center; margin-bottom: 8px; font-weight: 800; font-size: 22px; }
.box { background: var(--lg); padding: 12px; border-radius: 10px; border: 1px solid var(--p); margin-bottom: 10px; color: #2e7d32; font-size: 13px; line-height: 1.6; }
.help-link-center { text-align: center; margin-top: 8px; padding-top: 8px; border-top: 1px dashed var(--p); }

label { display: block; margin: 4px 0 2px; font-weight: bold; font-size: 13px; color: #444; }
input, select, textarea { width: 100%; padding: 10px; margin-bottom: 5px; border-radius: 8px; border: 1px solid #ccc; box-sizing: border-box; font-size: 14px; background: #f9f9f9; font-weight: bold; }
.num-input { direction: ltr; text-align: left; }
.separator { border-top: 1px dashed var(--p); margin: 8px 0; opacity: 0.5; }
.btn { width: 100%; background: linear-gradient(135deg, #00732f, #00a342); color: white; padding: 14px; border: none; border-radius: 10px; font-size: 16px; font-weight: bold; cursor: pointer; }
.btn:disabled { background: #ccc; cursor: not-allowed; }

/* Ø§Ù„ÙÙˆØªØ± */
.footer-section { background: #fff; border-top: 1px solid #eee; margin-top: 15px; padding: 15px; text-align: center; }
.contact-area { margin-top: 20px; border-top: 1px solid #eee; padding-top: 15px; text-align: center; }
.contact-area a { color: var(--p); text-decoration: none; font-weight: bold; margin: 0 15px; }
</style>
</head>
<body>

<div class="container">
    <div class="card">
        <h2 class="main-title">
            Ù…Ù†ØµØ© <span class="oimi-style">O<span class="oimi-i">i</span>M<span class="oimi-i">i</span>.ae</span>
            <br>
            <span style="font-size:14px; color:#444; font-weight:normal;">Ø·Ù„Ø¨ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ù‡Ù†ÙŠ ÙˆØ¹Ù…Ù„ Ø§Ù„Ø³ÙŠØ± Ø§Ù„Ø°Ø§ØªÙŠØ© (ATS)</span>
        </h2>
        
        <form id="oimi-form">
            <div class="box">
                <strong>âœ… Ø®Ø·ÙˆØ§Øª Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨:</strong><br>
                Ù¡. ØªØ­ÙˆÙŠÙ„ Ø±Ø³ÙˆÙ… Ø§Ù„Ø®Ø¯Ù…Ø© (50,000 Ø¬Ù†ÙŠÙ‡) Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø®Ø±Ø·ÙˆÙ… (Ø¨Ù†ÙƒÙƒ) :4623370 (Ø¨Ø§Ø³Ù… Ø§Ù„Ø£Ø³ØªØ§Ø° / Ø¹Ù…Ø± Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…).<br>
                Ù¢. Ø£ÙƒÙ…Ù„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¬Ù…ÙŠØ¹Ù‡Ø§ (Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ø­ØµØ±Ø§Ù‹).<br>
                Ù£. Ø§Ø¶ØºØ· "Ø¥Ø±Ø³Ø§Ù„" Ù„Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙˆØ§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ù‚Ù… ØªØ³Ø¬ÙŠÙ„Ùƒ.
                <div class="help-link-center">
                    <a href="https://wa.me/249900065080" target="_blank" style="color:var(--p); font-weight:bold; text-decoration:none;">ğŸ’¡ Ø¥Ø°Ø§ ÙƒÙ†Øª ØªÙˆØ§Ø¬Ù‡ ØµØ¹ÙˆØ¨Ø© ÙÙŠ Ø³Ø¯Ø§Ø¯ Ø§Ù„Ø±Ø³ÙˆÙ…ØŸ Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§.</a>
                </div>
            </div>

            <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ (Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙÙ‚Ø·) *</label>
            <input type="text" id="u_name_ar" required oninput="this.value=this.value.replace(/[a-zA-Z]/g,'')">
            
            <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ (Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙÙ‚Ø·) *</label>
            <input type="text" id="u_name_en" class="num-input" required oninput="this.value=this.value.replace(/[\u0600-\u06FF]/g,'')">

            <label>Ø§Ù„ØªØ®ØµØµ Ø§Ù„Ù…Ù‡Ù†ÙŠ *</label>
            <input type="text" id="u_spec" required>
            
            <label>Ø¨Ù„Ø¯ Ø§Ù„Ø§Ù‚Ø§Ù…Ø© *</label>
            <select id="u_country" required onchange="handleCountryChange(this)">
                <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆÙ„Ø©...</option>
            </select>
            
            <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ø£Ø±Ù‚Ø§Ù… Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙÙ‚Ø·) *</label>
            <input type="tel" id="u_phone" class="num-input" disabled required oninput="this.value=this.value.replace(/[^0-9]/g,'')">
            
            <label>Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ (Ø£Ø±Ù‚Ø§Ù… Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙÙ‚Ø·) *</label>
            <input type="tel" id="u_whatsapp" class="num-input" disabled required oninput="this.value=this.value.replace(/[^0-9]/g,'')">
            
            <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠ *</label>
            <input type="email" id="u_email" placeholder="Ø³ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø³Ø¨Ù‚" required>

            <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
            <textarea id="u_notes" rows="2"></textarea>

            <label>ÙƒÙŠÙ Ø³Ù…Ø¹Øª Ø¹Ù†Ø§ØŸ *</label>
            <select id="u_source" required>
                <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…ØµØ¯Ø±...</option>
                <option value="ÙÙŠØ³Ø¨ÙˆÙƒ">ÙÙŠØ³Ø¨ÙˆÙƒ</option>
                <option value="Ù„ÙŠÙ†ÙƒØ¯ Ø¥Ù†">Ù„ÙŠÙ†ÙƒØ¯ Ø¥Ù†</option>
                <option value="ØªÙŠÙƒ ØªÙˆÙƒ">ØªÙŠÙƒ ØªÙˆÙƒ</option>
                <option value="ØµØ¯ÙŠÙ‚">Ø¹Ù† Ø·Ø±ÙŠÙ‚ ØµØ¯ÙŠÙ‚</option>
            </select>

            <div class="separator"></div>
            <label>Ø£Ø±ÙÙ‚ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© (PDF Ø£Ùˆ ØµÙˆØ±Ø©) *</label>
            <input type="file" id="cv_file" accept=".pdf,image/*" required>
            
            <label>Ø£Ø±ÙÙ‚ ØµÙˆØ±Ø© Ø¥ÙŠØµØ§Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ *</label>
            <input type="file" id="receipt_file" accept="image/*" required>

            <button type="submit" class="btn" id="submitBtn">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
        </form>
    </div>

    <div class="footer-section">
        <span class="f-title">Ø¹Ù† Ø§Ù„Ù…Ù†ØµØ©</span>
        <div class="f-intro">
            <span class="oimi-style" style="font-size:20px;">O<span class="oimi-i">i</span>M<span class="oimi-i">i</span>.ae</span> Ù‡ÙŠ Ù…Ù†ØµØ© Ø±Ù‚Ù…ÙŠØ© Ø±Ø§Ø¦Ø¯Ø© Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ù‡Ù†ÙŠ.
        </div>
        <div class="contact-area">
            <h4>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h4>
            <a href="https://wa.me/249900065080" target="_blank">ğŸŸ¢ ÙˆØ§ØªØ³Ø§Ø¨</a> | 
            <a href="mailto:info@oimi.ae">ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</a>
        </div>
    </div>
</div>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbw0jhOgO2iYIss-Y4_B_hk8WKtFzyUH7FlgLwJijo6iCJ0lchZ_A9dMQAoXxQJo7IAT/exec";

const countryCodes = { "Ø§Ù„Ø³ÙˆØ¯Ø§Ù†": "00249","Ù…ØµØ±": "0020","Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©": "00966","Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª": "00971","Ù‚Ø·Ø±": "00974","Ø¹Ù…Ø§Ù†": "00968","Ø§Ù„ÙƒÙˆÙŠØª": "00965","Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†": "00973" };
const cSel = document.getElementById('u_country');
Object.keys(countryCodes).sort((a,b)=>a.localeCompare(b,'ar')).forEach(c=>{ const o=document.createElement('option'); o.value=c; o.textContent=c; cSel.appendChild(o); });

function handleCountryChange(el){ 
    const p=document.getElementById('u_phone'), w=document.getElementById('u_whatsapp'); 
    if(el.value){ p.disabled=false; w.disabled=false; p.value=countryCodes[el.value]; w.value=countryCodes[el.value]; } 
}

const form=document.getElementById('oimi-form');
form.addEventListener('submit', async (e)=>{
    e.preventDefault();
    const btn=document.getElementById('submitBtn');
    const email = document.getElementById('u_email').value.trim().toLowerCase();
    
    btn.disabled=true; btn.innerHTML="Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...";

    try {
        // Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø§Ù„ÙØ­Øµ Ø§Ù„Ø³Ø±ÙŠØ¹ Ù‚Ø¨Ù„ Ø§Ù„Ø±ÙØ¹
        const checkResp = await fetch(`${scriptURL}?checkEmail=${email}`);
        const checkResult = await checkResp.json();

        if (checkResult.exists) {
            alert("âš ï¸ Ø¹Ø°Ø±Ø§Ù‹ ÙŠØ§ Ø¹Ù…Ø±! Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ù…Ø³Ø¬Ù„ Ù„Ø¯ÙŠÙ†Ø§ Ù…Ø³Ø¨Ù‚Ø§Ù‹. Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ù…Ø±ØªÙŠÙ†.");
            btn.disabled=false; btn.innerHTML="Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª";
            return; // ØªÙˆÙ‚Ù ØªØ§Ù… Ø¹Ù† Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ ÙˆØ§Ù„Ø±ÙØ¹
        }

        // Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…Ø³Ø¬Ù„Ø§Ù‹ØŒ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø±ÙØ¹ Ø§Ù„ÙØ¹Ù„ÙŠ
        btn.innerHTML="Ø¬Ø§Ø±ÙŠ Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØ­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨...";
        const toBase64=f=>new Promise((res,rej)=>{ const r=new FileReader(); r.onload=()=>res(r.result.split(',')[1]); r.onerror=rej; r.readAsDataURL(f); });
        
        const cvFile=document.getElementById('cv_file').files[0], receiptFile=document.getElementById('receipt_file').files[0];
        const payload={ 
          "Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ": document.getElementById('u_name_ar').value, 
          "Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠ": document.getElementById('u_name_en').value, 
          "Ø§Ù„ØªØ®ØµØµ Ø§Ù„Ù…Ù‡Ù†ÙŠ": document.getElementById('u_spec').value, 
          "Ø¨Ù„Ø¯ Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©": document.getElementById('u_country').value, 
          "Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ": document.getElementById('u_phone').value, 
          "Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³": document.getElementById('u_whatsapp').value, 
          "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ": email, 
          "Ù…Ù„Ø§Ø­Ø¸Ø§Øª": document.getElementById('u_notes').value, 
          "ÙƒÙŠÙ Ø³Ù…Ø¹Øª Ø¹Ù†Ù†Ø§": document.getElementById('u_source').value, 
          "cv_name": cvFile.name, "cv_data": await toBase64(cvFile), 
          "receipt_name": receiptFile.name, "receipt_data": await toBase64(receiptFile) 
        };

        const response = await fetch(scriptURL, { method:'POST', body:JSON.stringify(payload) });
        const result = await response.json();

        if(result.status === "success"){ 
            alert("ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­ âœ…\nØ±Ù‚Ù… ØªØ³Ø¬ÙŠÙ„Ùƒ: " + result.uniqueId); 
            window.open(`https://wa.me/249900065080?text=ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ø±Ù‚Ù…: ${result.uniqueId}`,'_blank'); 
            location.reload(); 
        }
    } catch(err){ 
        alert("Ø­Ø¯Ø« Ø®Ø·Ø£ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰."); 
        btn.disabled=false; btn.innerHTML="Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"; 
    }
});
</script>
</body>
</html>
